@import "input-core";
@import "input-icon-core";
@import "input-number-core";
@import "input-textarea-core";
@import "input-select-core";

::placeholder {
  @include input-placeholder;
}

// input
.form {
  // input
  // types of [text, password, date, datetime, datetime-local, month, week, email, number, search, tel, time, url]
  &__input {
    @include input-base;
    @include input-text;

    &:focus {
      @include input-focus;
    }

    &--disabled,
    &:disabled,
    &[disabled],
    &[readonly] {
      @include input-disabled;

      // select.form__input[disabled]
      @at-root #{selector-unify(select, &)} {
        @include input-select-disabled;
      }
    }

    @at-root fieldset[disabled] & {
      @include input-disabled;
    }

    &--pre-postfix {
      @include input-postfix-radius;
    }

    &--post-prefix {
      @include input-prefix-radius;
    }

    &--underline {
      @include input-underline;
    }

    // input-number
    &--number {
      @include input-number-spinners(moz, $has-number-spinners: true);

      &::-webkit-inner-spin-button,
      &::-webkit-outer-spin-button {
        @include input-number-spinners(webkit, $has-number-spinners: true);
      }
    }

    // select.form__input
    @at-root #{selector-unify(select, &)} {
      @include input-select-base;
    }
  }
}

// form__input__icon
.form {
  &__input__icon {
    @include input-icon;

    @each $name, $icon in $input-icons {
      &--#{$name} {
        &::before {
          @include input-icon-base($icon);
        }
      }
    }

    &--busy {
      @include input-icon-busy;
      @include input-icon-busy-reset;
    }

    &--hidden,
    &--visible {
      @include input-icon-visibility;
    }
  }
}

// form__textarea
.form {
  &__textarea {
    @include textarea-base;

    &:focus {
      @include textarea-focus;
    }
  }
}
