@import "../../../settings/colors";
@import "../../../settings/forms";
@import "../../../tools/breakpoints";
@import "../../../tools/utilities";
@import "../../../tools/dimensions";
@import "../../../tools/stacking-context";
@import "../../fonts/fonts-core";
@import "../control-input/input-radio/input-radio-core";
@import "../icons/icons-core";
@import "../input/input-core";

// keep the minimum width in the case its parents has too small.
$dropdown-options-min-width: 250px;
$dropdown-border-color: $color-gray-7;
$dropdown-item-border-radius: 2px;
$dropdown-item-padding-sm: spacing(small);
$dropdown-item-padding-md: spacing(medium);

/// dropdown-button-base
/// TODO: remove this design dependencies by the input/button
@mixin dropdown-button-base {
  background: $color-white;
  color: $text-color;
  border: 1px solid $dropdown-border-color;
  padding-left: $input-field-spacing;
  padding-right: $input-field-spacing;
}

/// dropdown-button-disabled
/// TODO: remove design dependencies from input
@mixin dropdown-button-disabled {
  @include input-disabled;
}

/// dropdown-button-hover
/// TODO: remove design dependencies from input
@mixin dropdown-button-hover {
  @include input-focus;
}

@mixin dropdown-button {
  @include dropdown-button-base;
  @include typography-level(5);
  text-align: left;
  text-transform: none;
  @include ellipsis;
}

@mixin dropdown-button-icon {
  @include base64-icon-base;
  @include base64-svg-icon(chevron-down);
  position: absolute;
  right: spacing(small);
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
}

@mixin dropdown-label {
  display: block;
  @include ellipsis;
  margin-right: 1em;
}

@mixin dropdown-fullscreen {
  height: 100vh;
  left: 0;
  margin: 0;
  padding: 0;
  overflow-y: scroll;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: z-index(overlay);
}

@mixin dropdown-options {
  border: 1px solid $dropdown-border-color;
  border-radius: 2px;
  box-shadow: 0 0 10px 0 $dropshadow-color;
  font-size: 14px;
  height: auto;
  list-style: none;
  margin: 0;
  max-height: none;
  max-width: 100%;
  min-width: $dropdown-options-min-width;
  overflow-y: auto;
  padding: 0;
  position: absolute;
  top: 100%;
  width: 100%;
  z-index: z-index(1);
  @include typography-level(5, light);
}

@mixin dropdown-item {
  border-bottom: 1px solid $dropdown-border-color;
  color: $text-color;
  cursor: pointer;
  line-height: 46px;
  margin: 0;
  padding: 0 $dropdown-item-padding-md;

  &:first-child {
    border-top-left-radius: $dropdown-item-border-radius;
    border-top-right-radius: $dropdown-item-border-radius;
  }

  @include from("md") {
    &:last-child {
      border-bottom: initial;
      border-bottom-left-radius: $dropdown-item-border-radius;
      border-bottom-right-radius: $dropdown-item-border-radius;
    }
  }
}

@mixin dropdown-item-highlight {
  background: $color-blue-9;
}

@mixin dropdown-item-selected {
  background: $color-ice-blue-9;
  color: $action-color;
}

@mixin dropdown-item-disabled {
  background: $color-white;
  color: $disabled-color;
}

@mixin dropdown-item-invalid {
  color: $alert-color;
}

@mixin dropdown-header {
  position: relative;
  text-align: center;
  @include typography-level(5, bold);
  padding: $dropdown-item-padding-md;

  @include from("md") {
    display: none;
  }
}

@mixin dropdown-header-disclaimer {
  cursor: default;
  height: auto;
  margin-bottom: 0 !important;
  padding: $dropdown-item-padding-sm;
  @include typography-level(5, inherit);
  text-align: center;
}

/// dropdown-header-title
/// @deprecated
@mixin dropdown-header-title {
  @include typography-level(6, bold);
  padding: spacing(0.5);
  text-align: center;
}

/// dropdown-header-hover
@mixin dropdown-header-hover {
  color: $action-color;
}

/// dropdown-header-icon-back-base
@mixin dropdown-header-icon-back-base {
  margin: 0;
  top: 50%;
  left: $dropdown-item-padding-md;
  content: "";
  cursor: pointer;
  position: absolute;
  transform: translateY(-50%);
}

/// dropdown-header-icon-back-arrow
@mixin dropdown-header-icon-back-arrow {
  width: 0.4em;
  height: 0.4em;
  border: 1px solid;
  border-color: currentColor;
  border-width: 0 0 1px 1px;
  transform: translateY(-50%) rotate(45deg);
}

/// dropdown-header-icon-back-body
@mixin dropdown-header-icon-back-body {
  width: 0.9em;
  height: 1px;
  left: $dropdown-item-padding-md;
  background-color: currentColor;
}

/// dropdown-item-radio-button
@mixin dropdown-item-radio-button {
  @include radio-input-base;
  margin-right: spacing(small);
}
